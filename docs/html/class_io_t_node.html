<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sentient Things IoT Node Library: IoTNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="350x44retina.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sentient Things IoT Node Library
   &#160;<span id="projectnumber">Version 0.0.2</span>
   </div>
   <div id="projectbrief">Library for the Sentient Things IoT Node to manage the power and on-board peripherals like the RTC and FRAM memory</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_io_t_node.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_io_t_node-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IoTNode Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>main IoT Node class. Includes functions to manage external power. Read the state of the battery charger. Send a "tickle" to reset the watchdog timer and control GPIO on the IO headers.  
 <a href="class_io_t_node.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_io_t_node_8h_source.html">IoTNode.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4e5733f1b8fac9509cff45e2196a5887"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a4e5733f1b8fac9509cff45e2196a5887">IoTNode</a> ()</td></tr>
<tr class="memdesc:a4e5733f1b8fac9509cff45e2196a5887"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new Io T Node object.  <a href="#a4e5733f1b8fac9509cff45e2196a5887">More...</a><br /></td></tr>
<tr class="separator:a4e5733f1b8fac9509cff45e2196a5887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc93e26ebbdf369b8ed7c8c48f6ae37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a1dc93e26ebbdf369b8ed7c8c48f6ae37">begin</a> ()</td></tr>
<tr class="memdesc:a1dc93e26ebbdf369b8ed7c8c48f6ae37"><td class="mdescLeft">&#160;</td><td class="mdescRight">start the IoT Node. Sets the state of the internal MCP23018 expander. Reads the node mac address stored in the MCP79412 real time clock. Starts (Wire) I2C if needed.  <a href="#a1dc93e26ebbdf369b8ed7c8c48f6ae37">More...</a><br /></td></tr>
<tr class="separator:a1dc93e26ebbdf369b8ed7c8c48f6ae37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3d4900669395e369efac3abfee0b1e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a9e3d4900669395e369efac3abfee0b1e">ok</a> ()</td></tr>
<tr class="memdesc:a9e3d4900669395e369efac3abfee0b1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks to see if the IoT Node is working correctly by checking to make sure that the integrated I2C parts (MCP23018 expander, MCP79412 RTCC, MB85RC256V FRAM &amp; MCP3221 ADC) respond.  <a href="#a9e3d4900669395e369efac3abfee0b1e">More...</a><br /></td></tr>
<tr class="separator:a9e3d4900669395e369efac3abfee0b1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604538ae609da9a5ed6899a7297c632e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a604538ae609da9a5ed6899a7297c632e">setPowerON</a> (powerName pwrName, bool state)</td></tr>
<tr class="memdesc:a604538ae609da9a5ed6899a7297c632e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the external (or internal if added) power on or off Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V)  <a href="#a604538ae609da9a5ed6899a7297c632e">More...</a><br /></td></tr>
<tr class="separator:a604538ae609da9a5ed6899a7297c632e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8cf827672e02293dce94fd24ef19ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a5c8cf827672e02293dce94fd24ef19ea">setPower</a> (powerName pwrName, bool state)</td></tr>
<tr class="memdesc:a5c8cf827672e02293dce94fd24ef19ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the external (or internal if added) power on or off Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V)  <a href="#a5c8cf827672e02293dce94fd24ef19ea">More...</a><br /></td></tr>
<tr class="separator:a5c8cf827672e02293dce94fd24ef19ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087f8311b1d7a4c11f6f677240c6e410"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a087f8311b1d7a4c11f6f677240c6e410">powerON</a> (powerName pwrName)</td></tr>
<tr class="memdesc:a087f8311b1d7a4c11f6f677240c6e410"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch ON the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V)  <a href="#a087f8311b1d7a4c11f6f677240c6e410">More...</a><br /></td></tr>
<tr class="separator:a087f8311b1d7a4c11f6f677240c6e410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebc7fa2ec915f3c3449f561db58cdf8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#adebc7fa2ec915f3c3449f561db58cdf8">powerOFF</a> (powerName pwrName)</td></tr>
<tr class="memdesc:adebc7fa2ec915f3c3449f561db58cdf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch OFF the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V)  <a href="#adebc7fa2ec915f3c3449f561db58cdf8">More...</a><br /></td></tr>
<tr class="separator:adebc7fa2ec915f3c3449f561db58cdf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a547168e90373796e3ac18d8486c202f3"><td class="memItemLeft" align="right" valign="top"><a id="a547168e90373796e3ac18d8486c202f3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a547168e90373796e3ac18d8486c202f3">allPowerON</a> ()</td></tr>
<tr class="memdesc:a547168e90373796e3ac18d8486c202f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch ON the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) <br /></td></tr>
<tr class="separator:a547168e90373796e3ac18d8486c202f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adedda1334ac4982774a1d3d427186899"><td class="memItemLeft" align="right" valign="top"><a id="adedda1334ac4982774a1d3d427186899"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#adedda1334ac4982774a1d3d427186899">allPowerOFF</a> ()</td></tr>
<tr class="memdesc:adedda1334ac4982774a1d3d427186899"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch OFF the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) <br /></td></tr>
<tr class="separator:adedda1334ac4982774a1d3d427186899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc78fd17b75e3785a1cea14538b73ad1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#afc78fd17b75e3785a1cea14538b73ad1">switchOffFor</a> (long seconds, maskValue mask)</td></tr>
<tr class="memdesc:afc78fd17b75e3785a1cea14538b73ad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">use the internal real time clock to switch off the IoT Node power The IoT Node "RTC CONTROL" switch must be set to "Yes" for this to work. Note that the sleep times is in seconds. The internal clock adds the sleep seconds to the current date and time and stores the new wake up date and time in memory.  <a href="#afc78fd17b75e3785a1cea14538b73ad1">More...</a><br /></td></tr>
<tr class="separator:afc78fd17b75e3785a1cea14538b73ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7924a8e1240d545f43b5b3f0cfad5e4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a7924a8e1240d545f43b5b3f0cfad5e4e">switchOffFor</a> (long seconds)</td></tr>
<tr class="memdesc:a7924a8e1240d545f43b5b3f0cfad5e4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">use the internal real time clock to switch off the IoT Node power The IoT Node "RTC CONTROL" switch must be set to "Yes" for this to work. Note that the sleep times is in seconds. The internal clock adds the sleep seconds to the current date and time and stores the new wake up date and time in memory.  <a href="#a7924a8e1240d545f43b5b3f0cfad5e4e">More...</a><br /></td></tr>
<tr class="separator:a7924a8e1240d545f43b5b3f0cfad5e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7fee3e18506ae14f28391fc53ec3874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#aa7fee3e18506ae14f28391fc53ec3874">setPullUp</a> (gioName ioName, bool state)</td></tr>
<tr class="memdesc:aa7fee3e18506ae14f28391fc53ec3874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the selected I/O connector GPIO pin pullup on the IoT Node. See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander.  <a href="#aa7fee3e18506ae14f28391fc53ec3874">More...</a><br /></td></tr>
<tr class="separator:aa7fee3e18506ae14f28391fc53ec3874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6290044db3d893a0f7ee1058797305b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#af6290044db3d893a0f7ee1058797305b">digitalWrite</a> (gioName ioName, bool state)</td></tr>
<tr class="memdesc:af6290044db3d893a0f7ee1058797305b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the selected I/O connector GPIO pin high or low See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander.  <a href="#af6290044db3d893a0f7ee1058797305b">More...</a><br /></td></tr>
<tr class="separator:af6290044db3d893a0f7ee1058797305b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac51210072ef94a103c310b7c332d8aab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#ac51210072ef94a103c310b7c332d8aab">digitalRead</a> (gioName ioName)</td></tr>
<tr class="memdesc:ac51210072ef94a103c310b7c332d8aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">read the input state of the selected connector GPIO pin See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander.  <a href="#ac51210072ef94a103c310b7c332d8aab">More...</a><br /></td></tr>
<tr class="separator:ac51210072ef94a103c310b7c332d8aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf194431e4d9385ae4b1e85c00b72f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#abdf194431e4d9385ae4b1e85c00b72f6">tickleWatchdog</a> ()</td></tr>
<tr class="memdesc:abdf194431e4d9385ae4b1e85c00b72f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">send a short pulse to the analog watchdog timer to stop it resetting the node. The analog watchdog timer may be set using slider and dip switches to pull the reset line on the IoT Node low to reset the device that is plugged into the node. The reset period between 11 seconds and 2 hours is selected by a dip switch (see documentation).  <a href="#abdf194431e4d9385ae4b1e85c00b72f6">More...</a><br /></td></tr>
<tr class="separator:abdf194431e4d9385ae4b1e85c00b72f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5725c2252e6c9c5d69d6d1885d58ff90"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a5725c2252e6c9c5d69d6d1885d58ff90">isLiPoPowered</a> ()</td></tr>
<tr class="memdesc:a5725c2252e6c9c5d69d6d1885d58ff90"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the state of the IoT Node to see if a LiPo battery is powering the node. Uses the MCP23018 expander to read the digital state pins on the TPS2113 switch. The TPS2113 automatically switches between the LiPo and the 3AA/A power source. The TPS2113 switches to the 3AA (if connected) when the LiPo runs flat.  <a href="#a5725c2252e6c9c5d69d6d1885d58ff90">More...</a><br /></td></tr>
<tr class="separator:a5725c2252e6c9c5d69d6d1885d58ff90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c100824c08cc634bde03d5e3d38c58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a87c100824c08cc634bde03d5e3d38c58">is3AAPowered</a> ()</td></tr>
<tr class="memdesc:a87c100824c08cc634bde03d5e3d38c58"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the state of the IoT Node to see if a 3AA/A battery is powering the node. Uses the MCP23018 expander to read the digital state pins on the TPS2113 switch. The TPS2113 automatically switches between the LiPo and the 3AA/A power source. The TPS2113 switches to the 3AA (if connected) when the LiPo runs flat.  <a href="#a87c100824c08cc634bde03d5e3d38c58">More...</a><br /></td></tr>
<tr class="separator:a87c100824c08cc634bde03d5e3d38c58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa12835f8e942501f40ccb29e5280de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#acaa12835f8e942501f40ccb29e5280de">isLiPoCharged</a> ()</td></tr>
<tr class="memdesc:acaa12835f8e942501f40ccb29e5280de"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the state of the CN3065 LiPo charger DONE output pin. Uses the MCP23018 expander to check the pin.  <a href="#acaa12835f8e942501f40ccb29e5280de">More...</a><br /></td></tr>
<tr class="separator:acaa12835f8e942501f40ccb29e5280de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc9cb00ee2a310c8308c03f273a86b49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#afc9cb00ee2a310c8308c03f273a86b49">isLiPoCharging</a> ()</td></tr>
<tr class="memdesc:afc9cb00ee2a310c8308c03f273a86b49"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks the state of the CN3065 LiPo charger CHRG output pin. Uses the MCP23018 expander to check the pin.  <a href="#afc9cb00ee2a310c8308c03f273a86b49">More...</a><br /></td></tr>
<tr class="separator:afc9cb00ee2a310c8308c03f273a86b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7594ecbe9fbffd6df70c1012433d09b0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a7594ecbe9fbffd6df70c1012433d09b0">voltage</a> ()</td></tr>
<tr class="memdesc:a7594ecbe9fbffd6df70c1012433d09b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">measures the IoT Node input voltage. The voltage is measured after the TPS2113 auto switching power multiplexer.  <a href="#a7594ecbe9fbffd6df70c1012433d09b0">More...</a><br /></td></tr>
<tr class="separator:a7594ecbe9fbffd6df70c1012433d09b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23480991662a21c6e1f8fc2fa783cdb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#ad23480991662a21c6e1f8fc2fa783cdb">unixTime</a> ()</td></tr>
<tr class="memdesc:ad23480991662a21c6e1f8fc2fa783cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns the real time clock time in epoch or unix time.  <a href="#ad23480991662a21c6e1f8fc2fa783cdb">More...</a><br /></td></tr>
<tr class="separator:ad23480991662a21c6e1f8fc2fa783cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24f1a67efa2b1f46fd43d1d30e9ffb03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a24f1a67efa2b1f46fd43d1d30e9ffb03">setUnixTime</a> (uint32_t unixtime)</td></tr>
<tr class="memdesc:a24f1a67efa2b1f46fd43d1d30e9ffb03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the real time clock unix time in seconds.  <a href="#a24f1a67efa2b1f46fd43d1d30e9ffb03">More...</a><br /></td></tr>
<tr class="separator:a24f1a67efa2b1f46fd43d1d30e9ffb03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f93203dcadcd7c53748e5dfdffd4c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfram_ring.html">framRing</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a25f93203dcadcd7c53748e5dfdffd4c3">makeFramRing</a> (uint32_t numberOfElements, byte sizeOfElement)</td></tr>
<tr class="memdesc:a25f93203dcadcd7c53748e5dfdffd4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a ring array of elements in Fram The function keeps track of the ring array pointers. IoT Node includes a 256 kbits MB85RC256V I2C Fram Requires initialize() to be run prior to use. i.e. // Create FRAM ring of 10 integers int values; <a class="el" href="classfram_ring.html">framRing</a> framringtest = node.makeFramRing(10, sizeof(values));  <a href="#a25f93203dcadcd7c53748e5dfdffd4c3">More...</a><br /></td></tr>
<tr class="separator:a25f93203dcadcd7c53748e5dfdffd4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6546e1495af9472566300087d640b9a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfram_array.html">framArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a6546e1495af9472566300087d640b9a5">makeFramArray</a> (uint32_t numberOfElements, byte sizeOfElement)</td></tr>
<tr class="memdesc:a6546e1495af9472566300087d640b9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">create an array of elements in Fram The function keeps track of the ring array pointers. IoT Node includes a 256 kbits MB85RC256V I2C Fram i.e. struct Status { int anumber; int runCount; uint32_t lastUnixTime; }; // Create an array of three struct elements <a class="el" href="classfram_array.html" title="The framArray class is used to create arrays of elements in Fram. The library manages the location of...">framArray</a> framarraytest = node.makeFramArray(3, sizeof(testStatus));  <a href="#a6546e1495af9472566300087d640b9a5">More...</a><br /></td></tr>
<tr class="separator:a6546e1495af9472566300087d640b9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a81059f77fc0ef62c5568e0fb4dd1953c"><td class="memItemLeft" align="right" valign="top">String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#a81059f77fc0ef62c5568e0fb4dd1953c">nodeID</a></td></tr>
<tr class="memdesc:a81059f77fc0ef62c5568e0fb4dd1953c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the IoT Node mac address as a string. This is the value of the MCP79412 real time clock. MCP79412 includes an EUI-64 node address pre-programmed into the protected EEPROM block that may be used as a unique IoT Node address. The value is read as part of <a class="el" href="class_io_t_node.html#a1dc93e26ebbdf369b8ed7c8c48f6ae37" title="start the IoT Node. Sets the state of the internal MCP23018 expander. Reads the node mac address stor...">begin()</a>.  <a href="#a81059f77fc0ef62c5568e0fb4dd1953c">More...</a><br /></td></tr>
<tr class="separator:a81059f77fc0ef62c5568e0fb4dd1953c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbde7c7b5eab27b0951562993e673a57"><td class="memItemLeft" align="right" valign="top">framResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_io_t_node.html#acbde7c7b5eab27b0951562993e673a57">myResult</a> = framUnknownError</td></tr>
<tr class="memdesc:acbde7c7b5eab27b0951562993e673a57"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns framResult enum  <a href="#acbde7c7b5eab27b0951562993e673a57">More...</a><br /></td></tr>
<tr class="separator:acbde7c7b5eab27b0951562993e673a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>main IoT Node class. Includes functions to manage external power. Read the state of the battery charger. Send a "tickle" to reset the watchdog timer and control GPIO on the IO headers. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8h_source.html#l00316">316</a> of file <a class="el" href="_io_t_node_8h_source.html">IoTNode.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4e5733f1b8fac9509cff45e2196a5887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e5733f1b8fac9509cff45e2196a5887">&#9670;&nbsp;</a></span>IoTNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IoTNode::IoTNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new Io T Node object. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00018">18</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1dc93e26ebbdf369b8ed7c8c48f6ae37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc93e26ebbdf369b8ed7c8c48f6ae37">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start the IoT Node. Sets the state of the internal MCP23018 expander. Reads the node mac address stored in the MCP79412 real time clock. Starts (Wire) I2C if needed. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00023">23</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="ac51210072ef94a103c310b7c332d8aab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac51210072ef94a103c310b7c332d8aab">&#9670;&nbsp;</a></span>digitalRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::digitalRead </td>
          <td>(</td>
          <td class="paramtype">gioName&#160;</td>
          <td class="paramname"><em>ioName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read the input state of the selected connector GPIO pin See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioName</td><td>ioName one of GIO1, GIO2, GIO3 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if low or 0V </dd>
<dd>
false if high or 3.3V </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00282">282</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="af6290044db3d893a0f7ee1058797305b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6290044db3d893a0f7ee1058797305b">&#9670;&nbsp;</a></span>digitalWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::digitalWrite </td>
          <td>(</td>
          <td class="paramtype">gioName&#160;</td>
          <td class="paramname"><em>ioName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the selected I/O connector GPIO pin high or low See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioName</td><td>one of GIO1, GIO2, GIO3 </td></tr>
    <tr><td class="paramname">state</td><td>true or HIGH equals 3.3V, false or LOW equals 0V </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00271">271</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a87c100824c08cc634bde03d5e3d38c58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c100824c08cc634bde03d5e3d38c58">&#9670;&nbsp;</a></span>is3AAPowered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::is3AAPowered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks the state of the IoT Node to see if a 3AA/A battery is powering the node. Uses the MCP23018 expander to read the digital state pins on the TPS2113 switch. The TPS2113 automatically switches between the LiPo and the 3AA/A power source. The TPS2113 switches to the 3AA (if connected) when the LiPo runs flat. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a 3AA is powering the node </dd>
<dd>
false if a 3AA is not powering the node </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00322">322</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="acaa12835f8e942501f40ccb29e5280de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acaa12835f8e942501f40ccb29e5280de">&#9670;&nbsp;</a></span>isLiPoCharged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::isLiPoCharged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks the state of the CN3065 LiPo charger DONE output pin. Uses the MCP23018 expander to check the pin. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the LiPo is fully charged </dd>
<dd>
false if the LiPo is not fully charged </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00335">335</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="afc9cb00ee2a310c8308c03f273a86b49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc9cb00ee2a310c8308c03f273a86b49">&#9670;&nbsp;</a></span>isLiPoCharging()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::isLiPoCharging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks the state of the CN3065 LiPo charger CHRG output pin. Uses the MCP23018 expander to check the pin. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the LiPo is charging </dd>
<dd>
false if the LiPo is not charging </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00348">348</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a5725c2252e6c9c5d69d6d1885d58ff90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5725c2252e6c9c5d69d6d1885d58ff90">&#9670;&nbsp;</a></span>isLiPoPowered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::isLiPoPowered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks the state of the IoT Node to see if a LiPo battery is powering the node. Uses the MCP23018 expander to read the digital state pins on the TPS2113 switch. The TPS2113 automatically switches between the LiPo and the 3AA/A power source. The TPS2113 switches to the 3AA (if connected) when the LiPo runs flat. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a LiPo is powering the node </dd>
<dd>
false if a LiPo is not powering the node </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00309">309</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a6546e1495af9472566300087d640b9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6546e1495af9472566300087d640b9a5">&#9670;&nbsp;</a></span>makeFramArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfram_array.html">framArray</a> IoTNode::makeFramArray </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>numberOfElements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>sizeOfElement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create an array of elements in Fram The function keeps track of the ring array pointers. IoT Node includes a 256 kbits MB85RC256V I2C Fram i.e. struct Status { int anumber; int runCount; uint32_t lastUnixTime; }; // Create an array of three struct elements <a class="el" href="classfram_array.html" title="The framArray class is used to create arrays of elements in Fram. The library manages the location of...">framArray</a> framarraytest = node.makeFramArray(3, sizeof(testStatus)); </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numberOfElements</td><td>in the ring array </td></tr>
    <tr><td class="paramname">sizeOfElement</td><td>is the size of an element (use sizeof()) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classfram_ring.html">framRing</a> a ring object in on-board fram </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00410">410</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a25f93203dcadcd7c53748e5dfdffd4c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f93203dcadcd7c53748e5dfdffd4c3">&#9670;&nbsp;</a></span>makeFramRing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfram_ring.html">framRing</a> IoTNode::makeFramRing </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>numberOfElements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>sizeOfElement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a ring array of elements in Fram The function keeps track of the ring array pointers. IoT Node includes a 256 kbits MB85RC256V I2C Fram Requires initialize() to be run prior to use. i.e. // Create FRAM ring of 10 integers int values; <a class="el" href="classfram_ring.html">framRing</a> framringtest = node.makeFramRing(10, sizeof(values)); </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numberOfElements</td><td>in the ring array </td></tr>
    <tr><td class="paramname">sizeOfElement</td><td>is the size of an element (use sizeof()) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classfram_ring.html">framRing</a> a ring object in on-board fram </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00456">456</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a9e3d4900669395e369efac3abfee0b1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e3d4900669395e369efac3abfee0b1e">&#9670;&nbsp;</a></span>ok()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IoTNode::ok </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>checks to see if the IoT Node is working correctly by checking to make sure that the integrated I2C parts (MCP23018 expander, MCP79412 RTCC, MB85RC256V FRAM &amp; MCP3221 ADC) respond. </p>
<dl class="section return"><dt>Returns</dt><dd>true if all I2C devices respond </dd>
<dd>
false if any one of the I2C devices does not respond </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00076">76</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="adebc7fa2ec915f3c3449f561db58cdf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adebc7fa2ec915f3c3449f561db58cdf8">&#9670;&nbsp;</a></span>powerOFF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::powerOFF </td>
          <td>(</td>
          <td class="paramtype">powerName&#160;</td>
          <td class="paramname"><em>pwrName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch OFF the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pwrName</td><td>- one off INT5V, INT12V, EXT3V3, EXT5V, EXT12V </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00165">165</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a087f8311b1d7a4c11f6f677240c6e410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087f8311b1d7a4c11f6f677240c6e410">&#9670;&nbsp;</a></span>powerON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::powerON </td>
          <td>(</td>
          <td class="paramtype">powerName&#160;</td>
          <td class="paramname"><em>pwrName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch ON the external (or internal if added) power Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pwrName</td><td>- one off INT5V, INT12V, EXT3V3, EXT5V, EXT12V </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00156">156</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a5c8cf827672e02293dce94fd24ef19ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8cf827672e02293dce94fd24ef19ea">&#9670;&nbsp;</a></span>setPower()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::setPower </td>
          <td>(</td>
          <td class="paramtype">powerName&#160;</td>
          <td class="paramname"><em>pwrName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the external (or internal if added) power on or off Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pwrName</td><td>- one off INT5V, INT12V, EXT3V3, EXT5V, EXT12V </td></tr>
    <tr><td class="paramname">state</td><td>- true or false, HIGH or LOW </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00145">145</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a604538ae609da9a5ed6899a7297c632e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a604538ae609da9a5ed6899a7297c632e">&#9670;&nbsp;</a></span>setPowerON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::setPowerON </td>
          <td>(</td>
          <td class="paramtype">powerName&#160;</td>
          <td class="paramname"><em>pwrName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the external (or internal if added) power on or off Controls the enable pins on the IoT Node - see pwrName The IoT Node includes on-board regulators for external 3.3V (EXT3V3) and external 5V (EXT5V) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pwrName</td><td>- one off INT5V, INT12V, EXT3V3, EXT5V, EXT12V </td></tr>
    <tr><td class="paramname">state</td><td>- true or false, HIGH or LOW </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00133">133</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="aa7fee3e18506ae14f28391fc53ec3874"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7fee3e18506ae14f28391fc53ec3874">&#9670;&nbsp;</a></span>setPullUp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::setPullUp </td>
          <td>(</td>
          <td class="paramtype">gioName&#160;</td>
          <td class="paramname"><em>ioName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the selected I/O connector GPIO pin pullup on the IoT Node. See the IoT Node documentation for pin configurations of the RJ45 connectors (not ethernet) Uses the internal MCP23018 expander. </p>
<p>NOTE: Solder jumpers on the bottom of the IoT Node may be changed to connect GIOx pins to analog pins on the Feather footprint. See the IoT Node schematic for details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ioName</td><td>one of GIO1, GIO2, GIO3 </td></tr>
    <tr><td class="paramname">state</td><td>true or HIGH (pulled up) false or LOW (not pulled up) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00261">261</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a24f1a67efa2b1f46fd43d1d30e9ffb03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24f1a67efa2b1f46fd43d1d30e9ffb03">&#9670;&nbsp;</a></span>setUnixTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::setUnixTime </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>unixtime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the real time clock unix time in seconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unixtime</td><td>the unix time in seconds </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00380">380</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="afc78fd17b75e3785a1cea14538b73ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc78fd17b75e3785a1cea14538b73ad1">&#9670;&nbsp;</a></span>switchOffFor() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::switchOffFor </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>seconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">maskValue&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>use the internal real time clock to switch off the IoT Node power The IoT Node "RTC CONTROL" switch must be set to "Yes" for this to work. Note that the sleep times is in seconds. The internal clock adds the sleep seconds to the current date and time and stores the new wake up date and time in memory. </p>
<p>NOTE: The mask defines what the clock checks to wake up (switch back on) the IoT Node. If ALL is selected then when the Seconds, Minutes, Hours, Day of Week, Date, and Month match the new wake up date and time in memory then the clock will wake up the node.</p>
<p>If SEC (Seconds) is selected then when the time seconds next match then the node will wake up.</p>
<p>Similarly if WKDAY (day of week) is selected then the time day-of-week next matches then the node will wake up.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>time in seconds to switch off the power </td></tr>
    <tr><td class="paramname">mask</td><td>- enum value one of SEC, MIN, HOUR, WKDAY, DATE, ALL </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00200">200</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a7924a8e1240d545f43b5b3f0cfad5e4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7924a8e1240d545f43b5b3f0cfad5e4e">&#9670;&nbsp;</a></span>switchOffFor() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::switchOffFor </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>use the internal real time clock to switch off the IoT Node power The IoT Node "RTC CONTROL" switch must be set to "Yes" for this to work. Note that the sleep times is in seconds. The internal clock adds the sleep seconds to the current date and time and stores the new wake up date and time in memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seconds</td><td>time in seconds to switch off the power </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00229">229</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="abdf194431e4d9385ae4b1e85c00b72f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdf194431e4d9385ae4b1e85c00b72f6">&#9670;&nbsp;</a></span>tickleWatchdog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IoTNode::tickleWatchdog </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send a short pulse to the analog watchdog timer to stop it resetting the node. The analog watchdog timer may be set using slider and dip switches to pull the reset line on the IoT Node low to reset the device that is plugged into the node. The reset period between 11 seconds and 2 hours is selected by a dip switch (see documentation). </p>
<p>The tickleWatchdog sends a short pulse to stop the reset from happening and may be used to reset a devices if the pulse does not occur.</p>
<p>Typically used to reset hung software. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00301">301</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="ad23480991662a21c6e1f8fc2fa783cdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23480991662a21c6e1f8fc2fa783cdb">&#9670;&nbsp;</a></span>unixTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t IoTNode::unixTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns the real time clock time in epoch or unix time. </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t unix time in seconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00375">375</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<a id="a7594ecbe9fbffd6df70c1012433d09b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7594ecbe9fbffd6df70c1012433d09b0">&#9670;&nbsp;</a></span>voltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float IoTNode::voltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>measures the IoT Node input voltage. The voltage is measured after the TPS2113 auto switching power multiplexer. </p>
<dl class="section return"><dt>Returns</dt><dd>float - the input voltage in volts </dd></dl>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8cpp_source.html#l00361">361</a> of file <a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acbde7c7b5eab27b0951562993e673a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbde7c7b5eab27b0951562993e673a57">&#9670;&nbsp;</a></span>myResult</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">framResult IoTNode::myResult = framUnknownError</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns framResult enum </p>
<p>enum framResult { framOK = 0, framBadStartAddress, framBadNumberOfBytes, framBadFinishAddress, framArrayElementTooBig, framBadArrayIndex, framBadArrayStartAddress, framBadResponse, framPartNumberMismatch, framUnknownError = 99 }; </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8h_source.html#l00620">620</a> of file <a class="el" href="_io_t_node_8h_source.html">IoTNode.h</a>.</p>

</div>
</div>
<a id="a81059f77fc0ef62c5568e0fb4dd1953c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81059f77fc0ef62c5568e0fb4dd1953c">&#9670;&nbsp;</a></span>nodeID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">String IoTNode::nodeID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the IoT Node mac address as a string. This is the value of the MCP79412 real time clock. MCP79412 includes an EUI-64 node address pre-programmed into the protected EEPROM block that may be used as a unique IoT Node address. The value is read as part of <a class="el" href="class_io_t_node.html#a1dc93e26ebbdf369b8ed7c8c48f6ae37" title="start the IoT Node. Sets the state of the internal MCP23018 expander. Reads the node mac address stor...">begin()</a>. </p>

<p class="definition">Definition at line <a class="el" href="_io_t_node_8h_source.html#l00563">563</a> of file <a class="el" href="_io_t_node_8h_source.html">IoTNode.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/rober/Dropbox/SentientThings/SentientGithub/IoTNode/src/<a class="el" href="_io_t_node_8h_source.html">IoTNode.h</a></li>
<li>C:/Users/rober/Dropbox/SentientThings/SentientGithub/IoTNode/src/<a class="el" href="_io_t_node_8cpp_source.html">IoTNode.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_io_t_node.html">IoTNode</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
